import{r as h,o as m,c as g,a as E,b as y,d as v,e as A,s as p,f as S,g as L,m as O}from"./vendor.a57b940c.js";const k=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}};k();const P={setup(t){return(n,s)=>{const o=h("router-view");return m(),g(o)}}},T="modulepreload",u={},$="/",l=function(n,s){return!s||s.length===0?n():Promise.all(s.map(o=>{if(o=`${$}${o}`,o in u)return;u[o]=!0;const e=o.endsWith(".css"),r=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${r}`))return;const a=document.createElement("link");if(a.rel=e?"stylesheet":T,e||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),e)return new Promise((i,c)=>{a.addEventListener("load",i),a.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>n())};var b=(t,n)=>{const s=t.__vccOpts||t;for(const[o,e]of n)s[o]=e;return s};const w={},I=y("h1",null,"HEELO WORLD",-1),R=[I];function C(t,n,s,o,e,r){return m(),E("div",null,R)}var N=b(w,[["render",C]]);const f="Access-Token",B="sidebar_type",D=[{path:"/:pathMatch(.*)",redirect:"/404"},{path:"/404",meta:{noAuth:!0},component:()=>l(()=>import("./404.b9edd4c7.js"),["assets/404.b9edd4c7.js","assets/vendor.a57b940c.js","assets/vendor.a389817b.css"])},{path:"/",name:"Home",component:N},{path:"/login",name:"Login",meta:{noAuth:!0},component:()=>l(()=>import("./Login.6bc6d247.js"),["assets/Login.6bc6d247.js","assets/Login.7928cd3b.css","assets/vendor.a57b940c.js","assets/vendor.a389817b.css","assets/api.9a778f06.js","assets/api.eedb5725.css"])},{path:"/signup",name:"Signup",meta:{noAuth:!0},component:()=>l(()=>import("./Signup.6df19b51.js"),["assets/Signup.6df19b51.js","assets/Signup.7ff2c1de.css","assets/vendor.a57b940c.js","assets/vendor.a389817b.css","assets/api.9a778f06.js","assets/api.eedb5725.css"])}],d=v({history:A(),routes:D});d.beforeEach((t,n,s)=>{console.log(t.meta.noAuth),!t.meta.noAuth&&!p.get(f)?s({path:"/login",query:{redirect:t.fullPath}}):s()});const H={state:{sideCollapsed:!1},mutations:{[B]:(t,n)=>{t.sideCollapsed=n}},actions:{}};var V={namespaced:!0,state(){return{token:"",count:0}},mutations:{increment(t){t.count++},setToken(t,n){t.token=n}},actions:{GetInfo({commit:t}){return new Promise((n,s)=>{getInfo().then(o=>{const e=o.result;if(e.role&&e.role.permissions.length>0){const r=e.role;r.permissions=e.role.permissions,r.permissions.map(a=>{if(a.actionEntitySet!=null&&a.actionEntitySet.length>0){const i=a.actionEntitySet.map(c=>c.action);a.actionList=i}}),r.permissionList=r.permissions.map(a=>a.permissionId),t("SET_ROLES",e.role),t("SET_INFO",e)}else s(new Error("getInfo: roles must be a non-null array !"));t("SET_NAME",{name:e.name,welcome:welcome()}),t("SET_AVATAR",e.avatar),n(o)}).catch(o=>{s(o)})})},Logout({commit:t,state:n}){return new Promise(s=>{logout(n.token).then(()=>{p.remove(f),t("token",""),s()}).catch(o=>{console.log("logout fail:",o)}).finally(()=>{})})}}};const q=S({state(){},mutations:{},actions:{},getters:{},modules:{home:H,common:V}});const _=L(P);_.use(d).use(q).mount("#app");_.config.globalProperties.$message=O;export{f as A,b as _,q as s};
